version: "3.9"

services:
  flaskapp:
    image: python:3.12-alpine
    container_name: hugo-flaskapp
    working_dir: /app
    command: >-
      sh -c "pip install --no-cache-dir flask werkzeug gunicorn &&
      gunicorn -b 0.0.0.0:5050 flask_app.app:app"
    volumes:
      - "/home/jalcocert/Desktop/IT/hugo-theme-gallery-flasked:/app"
    ports:
      - "5050:5050"
    restart: "no"

  static-python:
    image: python:3.12-alpine
    container_name: hugo-static-python
    working_dir: /app
    command: python3 -m http.server 4323 --directory /app/public
    volumes:
      - "/home/jalcocert/Desktop/IT/hugo-theme-gallery-flasked/exampleSite/public:/app/public:ro"
    ports:
      - "8089:4323"
    restart: "no"
